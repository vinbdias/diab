{"version":3,"sources":["../../app-es6/controllers/SimuladorController.js"],"names":["SimuladorController","_inputComprasInternet","$","_inputCustosEducacao","_inputCustosFarmacia","_inputCustosLazer","_botaoEnviar","_spanTextoDescubra","_spanTextoInforme","_divCamposSimulador","_divResultadoSimulador","_capturarClickBotao","_capturarKeyUpInputs","_simulador","Simulador","_simuladorService","SimuladorService","_resultadoSimulador","Bind","ResultadoSimulador","ResultadoSimuladorView","val","css","fadeOut","fadeIn","on","_formatarValorComprasInternet","e","_formatarValorCustosEducacao","_formatarValorCustosFarmacia","_formatarValorCustosLazer","preventDefault","_validar","_calcularEconomia","_esconderInputsExibirResultado","event","NumeroHelper","formatarFloatToBRL","comprasInternet","parseBRLToFloat","custosEducacao","custosFarmacia","custosLazer","resultado","calcularEconomia","gravarSimulacao"],"mappings":"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","file":"SimuladorController.js","sourcesContent":["class SimuladorController {\r\n\r\n    constructor() {        \r\n\r\n        this._inputComprasInternet = $('#comprasInternet');\r\n        this._inputCustosEducacao = $('#custosEducacao');\r\n        this._inputCustosFarmacia = $('#custosFarmacia');\r\n        this._inputCustosLazer = $('#custosLazer');\r\n        this._botaoEnviar = $('#botaoEnviarSimulador');\r\n        this._spanTextoDescubra = $('#spanTextoDescubra');\r\n        this._spanTextoInforme = $('#spanTextoInforme');\r\n        this._divCamposSimulador = $('#camposSimulador');\r\n        this._divResultadoSimulador = $('#resultadoSimuladorView');\r\n\r\n        this._capturarClickBotao();\r\n\r\n        this._capturarKeyUpInputs();\r\n\r\n        this._simulador = new Simulador();\r\n        this._simuladorService = new SimuladorService();\r\n\r\n        this._resultadoSimulador = new Bind(\r\n            new ResultadoSimulador(),\r\n            new ResultadoSimuladorView($('#resultadoSimuladorView')),\r\n            'resultado'\r\n        );        \r\n    }\r\n\r\n    reset() {\r\n\r\n        this._inputComprasInternet.val('');\r\n        this._inputCustosEducacao.val('');\r\n        this._inputCustosFarmacia.val('');\r\n        this._inputCustosLazer.val('');\r\n        \r\n        if(this._divResultadoSimulador.css('display') === 'block') {\r\n\r\n            this._divResultadoSimulador.fadeOut(1000, () => {\r\n\r\n                this._divCamposSimulador.fadeIn(1000);\r\n                this._botaoEnviar.fadeIn(1000);\r\n                this._spanTextoDescubra.fadeIn(1000);\r\n                this._spanTextoInforme.fadeIn(1000);                \r\n            });\r\n        }\r\n    }\r\n\r\n    _capturarKeyUpInputs() {\r\n\r\n        this._inputComprasInternet.on('keyup', e => this._formatarValorComprasInternet(e));\r\n\r\n        this._inputCustosEducacao.on('keyup', e => this._formatarValorCustosEducacao(e));\r\n\r\n        this._inputCustosFarmacia.on('keyup', e => this._formatarValorCustosFarmacia(e));\r\n\r\n        this._inputCustosLazer.on('keyup', e => this._formatarValorCustosLazer(e));\r\n    }\r\n\r\n    _capturarClickBotao() {\r\n\r\n        this._botaoEnviar.on('click', e => {\r\n\r\n            e.preventDefault();\r\n\r\n            if(this._validar()) {\r\n\r\n                this._calcularEconomia();\r\n                this._esconderInputsExibirResultado();\r\n            }\r\n        });\r\n    }\r\n\r\n    _validar() {\r\n\r\n        if(!this._inputComprasInternet.val() ||\r\n           !this._inputCustosEducacao.val() ||\r\n           !this._inputCustosFarmacia.val() ||\r\n           !this._inputCustosLazer.val())\r\n           return false;\r\n\r\n        return true;\r\n    }\r\n\r\n    _formatarValorComprasInternet(event) {\r\n\r\n        event.preventDefault();\r\n        \r\n        this._inputComprasInternet.val(NumeroHelper.formatarFloatToBRL(this._inputComprasInternet.val()));\r\n    }\r\n\r\n    _formatarValorCustosEducacao(event) {\r\n\r\n        event.preventDefault();\r\n\r\n        this._inputCustosEducacao.val(NumeroHelper.formatarFloatToBRL(this._inputCustosEducacao.val()));\r\n    }\r\n\r\n    _formatarValorCustosFarmacia(event) {\r\n\r\n        event.preventDefault();\r\n\r\n        this._inputCustosFarmacia.val(NumeroHelper.formatarFloatToBRL(this._inputCustosFarmacia.val()));\r\n    }\r\n\r\n    _formatarValorCustosLazer(event) {\r\n\r\n        event.preventDefault();\r\n\r\n        this._inputCustosLazer.val(NumeroHelper.formatarFloatToBRL(this._inputCustosLazer.val()));\r\n    }\r\n\r\n    _calcularEconomia() {        \r\n\r\n        let comprasInternet = NumeroHelper.parseBRLToFloat(this._inputComprasInternet.val()),\r\n            custosEducacao = NumeroHelper.parseBRLToFloat(this._inputCustosEducacao.val()),\r\n            custosFarmacia = NumeroHelper.parseBRLToFloat(this._inputCustosFarmacia.val()),\r\n            custosLazer = NumeroHelper.parseBRLToFloat(this._inputCustosLazer.val());\r\n\r\n        this._resultadoSimulador.resultado = this._simulador.calcularEconomia(comprasInternet, custosEducacao,\r\n                                                                              custosFarmacia, custosLazer);  \r\n\r\n        this._simuladorService.gravarSimulacao(this._resultadoSimulador.resultado, \r\n                                               comprasInternet, custosEducacao,\r\n                                               custosFarmacia, custosLazer);                                                \r\n    }\r\n\r\n    _esconderInputsExibirResultado() {\r\n\r\n        this._divCamposSimulador.fadeOut(1000);\r\n        this._botaoEnviar.fadeOut(1000);\r\n        this._spanTextoDescubra.fadeOut(1000);\r\n        this._spanTextoInforme.fadeOut(1000, () => this._divResultadoSimulador.fadeIn(1500));\r\n    }\r\n}"]}