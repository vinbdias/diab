{"version":3,"sources":["../../app-es6/controllers/QuizController.js"],"names":["QuizController","_teste","_quiz","Bind","Quiz","QuizView","$","perguntas","getPerguntas","_inputRespostas","perfis","getPerfis","_resultadoQuiz","ResultadoQuiz","ResultadoQuizView","_quizService","QuizService","on","e","anchorObject","stepNumber","stepDirection","stepPosition","numeroPergunta","_validarResposta","_submeterRespostas","bind","addClass","removeClass","smartWizard","selected","theme","transitionEffect","showStepURLhash","toolbarSettings","toolbarPosition","toolbarButtonPosition","_resetRespostas","_jQuerySmartWizardReset","resultado","undefined","each","prop","respostas","_obterRespostas","_inputPergunta1","val","_inputPergunta2","_inputPergunta3","_inputPergunta4","_inputPergunta5","_inputPergunta6","_inputPergunta7","_inputPergunta8","_inputPergunta9","_inputPergunta10","calcularResultadoQuiz","gravarQuiz","length","numero","inputPergunta","toString"],"mappings":";;;;;;IAAMA,c;AAEF,8BAAc;AAAA;;AAEV,aAAKC,MAAL,GAAc,KAAd;;AAEA,aAAKC,KAAL,GAAa,IAAIC,IAAJ,CACT,IAAIC,IAAJ,EADS,EAET,IAAIC,QAAJ,CAAaC,EAAE,WAAF,CAAb,CAFS,EAGT,WAHS,CAAb;AAKA,aAAKJ,KAAL,CAAWK,SAAX,GAAuB,KAAKL,KAAL,CAAWM,YAAX,EAAvB;;AAEA,aAAKC,eAAL,GAAuBH,EAAE,oBAAF,CAAvB;;AAEA,aAAKJ,KAAL,CAAWQ,MAAX,GAAoB,KAAKR,KAAL,CAAWS,SAAX,EAApB;;AAGA,aAAKC,cAAL,GAAsB,IAAIT,IAAJ,CAClB,IAAIU,aAAJ,EADkB,EAElB,IAAIC,iBAAJ,CAAsBR,EAAE,oBAAF,CAAtB,CAFkB,EAGlB,WAHkB,CAAtB;;AAMA,aAAKS,YAAL,GAAoB,IAAIC,WAAJ,EAApB;AACH;;;;4CAEmB;;AAEhBV,cAAE,cAAF,EAAkBW,EAAlB,CAAqB,WAArB,EAAkC,UAASC,CAAT,EAAYC,YAAZ,EAA0BC,UAA1B,EAAsCC,aAAtC,EAAqDC,YAArD,EAAmE;;AAEjG,oBAAGD,iBAAiB,SAApB,EAA+B;;AAE3B,wBAAIE,iBAAiBH,aAAa,CAAlC;AACA,wBAAG,KAAKI,gBAAL,CAAsBD,cAAtB,CAAH,EAA0C;;AAEtC,4BAAGA,kBAAkB,EAArB,EACI,KAAKE,kBAAL;;AAEJ,+BAAO,IAAP;AACH,qBAND,MAOK,OAAO,KAAP;AACR;;AAED,uBAAO,IAAP;AACH,aAhBiC,CAgBhCC,IAhBgC,CAgB3B,IAhB2B,CAAlC;;AAkBApB,cAAE,cAAF,EAAkBW,EAAlB,CAAqB,UAArB,EAAiC,UAASC,CAAT,EAAYC,YAAZ,EAA0BC,UAA1B,EAAsCC,aAAtC,EAAqDC,YAArD,EAAmE;;AAEhG,oBAAGA,iBAAiB,OAApB,EACIhB,EAAE,WAAF,EAAeqB,QAAf,CAAwB,UAAxB,EADJ,KAGI,IAAGL,iBAAiB,OAApB,EACIhB,EAAE,WAAF,EAAeqB,QAAf,CAAwB,UAAxB,EADJ,KAEK;;AAEDrB,sBAAE,WAAF,EAAesB,WAAf,CAA2B,UAA3B;AACAtB,sBAAE,WAAF,EAAesB,WAAf,CAA2B,UAA3B;AACH;AACR,aAZD;;AAcAtB,cAAE,cAAF,EAAkBuB,WAAlB,CAA8B;AACtBC,0BAAU,CADY;AAEtBC,uBAAO,SAFe;AAGtBC,kCAAiB,MAHK;AAItBC,iCAAiB,KAJK;AAKtBC,iCAAiB,EAACC,iBAAiB,MAAlB;AACGC,2CAAuB;AAD1B;AALK,aAA9B;AAWH;;;gCAEO;;AAEJ,iBAAKC,eAAL;AACA,iBAAKC,uBAAL;AACA,iBAAK1B,cAAL,CAAoB2B,SAApB,GAAgCC,SAAhC;AACH;;;0CAEiB;;AAEd,iBAAK/B,eAAL,CAAqBgC,IAArB,CAA0B,YAAW;;AAEjCnC,kBAAE,IAAF,EAAQoC,IAAR,CAAa,SAAb,EAAwB,KAAxB;AACH,aAHD;AAIH;;;kDAEyB;;AAEtBpC,cAAE,cAAF,EAAkBuB,WAAlB,CAA8B,OAA9B;;AAEA,mBAAO,IAAP;AACH;;;6CAEoB;;AAEjB,gBAAIc,YAAY,EAAhB;;AAEA,gBAAG,CAAC,KAAK1C,MAAT,EAAiB;;AAEb,qBAAK2C,eAAL;;AAEAD,4BAAY,CACR,KAAKE,eAAL,CAAqBC,GAArB,EADQ,EAER,KAAKC,eAAL,CAAqBD,GAArB,EAFQ,EAGR,KAAKE,eAAL,CAAqBF,GAArB,EAHQ,EAIR,KAAKG,eAAL,CAAqBH,GAArB,EAJQ,EAKR,KAAKI,eAAL,CAAqBJ,GAArB,EALQ,EAMR,KAAKK,eAAL,CAAqBL,GAArB,EANQ,EAOR,KAAKM,eAAL,CAAqBN,GAArB,EAPQ,EAQR,KAAKO,eAAL,CAAqBP,GAArB,EARQ,EASR,KAAKQ,eAAL,CAAqBR,GAArB,EATQ,EAUR,KAAKS,gBAAL,CAAsBT,GAAtB,EAVQ,CAAZ;AAYH,aAhBD,MAkBIH,YAAY,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,GAA9C,CAAZ;;AAEJ,iBAAK/B,cAAL,CAAoB2B,SAApB,GAAgC,KAAKrC,KAAL,CAAWsD,qBAAX,CAAiCb,SAAjC,CAAhC;;AAEA,iBAAK5B,YAAL,CAAkB0C,UAAlB,CAA6Bd,SAA7B,EAAwC,KAAK/B,cAAL,CAAoB2B,SAA5D;AACH;;;uCAEc;;AAEX,gBACI,CAAC,KAAKM,eAAL,CAAqBa,MAAtB,IACA,CAAC,KAAKX,eAAL,CAAqBW,MADtB,IAEA,CAAC,KAAKV,eAAL,CAAqBU,MAFtB,IAGA,CAAC,KAAKT,eAAL,CAAqBS,MAHtB,IAIA,CAAC,KAAKR,eAAL,CAAqBQ,MAJtB,IAKA,CAAC,KAAKP,eAAL,CAAqBO,MALtB,IAMA,CAAC,KAAKN,eAAL,CAAqBM,MANtB,IAOA,CAAC,KAAKL,eAAL,CAAqBK,MAPtB,IAQA,CAAC,KAAKJ,eAAL,CAAqBI,MARtB,IASA,CAAC,KAAKH,gBAAL,CAAsBG,MAV3B,EAYI,OAAO,KAAP;;AAEJ,mBAAO,IAAP;AACH;;;0CAEiB;;AAEd,iBAAKb,eAAL,GAAuBvC,EAAE,iCAAF,CAAvB;AACA,iBAAKyC,eAAL,GAAuBzC,EAAE,iCAAF,CAAvB;AACA,iBAAK0C,eAAL,GAAuB1C,EAAE,iCAAF,CAAvB;AACA,iBAAK2C,eAAL,GAAuB3C,EAAE,iCAAF,CAAvB;AACA,iBAAK4C,eAAL,GAAuB5C,EAAE,iCAAF,CAAvB;AACA,iBAAK6C,eAAL,GAAuB7C,EAAE,iCAAF,CAAvB;AACA,iBAAK8C,eAAL,GAAuB9C,EAAE,iCAAF,CAAvB;AACA,iBAAK+C,eAAL,GAAuB/C,EAAE,iCAAF,CAAvB;AACA,iBAAKgD,eAAL,GAAuBhD,EAAE,iCAAF,CAAvB;AACA,iBAAKiD,gBAAL,GAAwBjD,EAAE,kCAAF,CAAxB;AACH;;;yCAEgBqD,M,EAAQ;;AAErB,gBAAG,KAAK1D,MAAR,EAAgB,OAAO,IAAP;;AAEhB,gBAAI2D,gBAAgBtD,EAAE,yBAAyBqD,OAAOE,QAAP,EAAzB,GAA6C,YAA/C,CAApB;;AAEA,gBAAGD,cAAcF,MAAd,GAAuB,CAA1B,EAA6B,OAAO,IAAP;;AAE7B,mBAAO,KAAP;AACH","file":"QuizController.js","sourcesContent":["class QuizController {\r\n\r\n    constructor() {\r\n\r\n        this._teste = false;\r\n                    \r\n        this._quiz = new Bind(\r\n            new Quiz(),\r\n            new QuizView($('#quizView')),\r\n            'perguntas'\r\n        );\r\n        this._quiz.perguntas = this._quiz.getPerguntas();\r\n\r\n        this._inputRespostas = $('.inputRespostaQuiz');\r\n\r\n        this._quiz.perfis = this._quiz.getPerfis();\r\n        \r\n\r\n        this._resultadoQuiz = new Bind(\r\n            new ResultadoQuiz(),\r\n            new ResultadoQuizView($('#resultadoQuizView')),\r\n            'resultado'\r\n        );        \r\n        \r\n        this._quizService = new QuizService();                                  \r\n    }\r\n\r\n    jQuerySmartWizard() {             \r\n\r\n        $('#smartwizard').on('leaveStep', function(e, anchorObject, stepNumber, stepDirection, stepPosition) {\r\n\r\n            if(stepDirection == 'forward') {\r\n\r\n                let numeroPergunta = stepNumber + 1;\r\n                if(this._validarResposta(numeroPergunta)) {\r\n                    \r\n                    if(numeroPergunta == 10)\r\n                        this._submeterRespostas();\r\n    \r\n                    return true;\r\n                }\r\n                else return false;\r\n            }\r\n            \r\n            return true;\r\n        }.bind(this));\r\n\r\n        $('#smartwizard').on('showStep', function(e, anchorObject, stepNumber, stepDirection, stepPosition) {\r\n\r\n            if(stepPosition === 'first')  \r\n                $('#prev-btn').addClass('disabled');\r\n            else \r\n                if(stepPosition === 'final')\r\n                    $(\"#next-btn\").addClass('disabled');\r\n                else {\r\n\r\n                    $('#prev-btn').removeClass('disabled');\r\n                    $('#next-btn').removeClass('disabled');\r\n                }\r\n        });\r\n\r\n        $('#smartwizard').smartWizard({\r\n                selected: 0,\r\n                theme: 'default',\r\n                transitionEffect:'fade',\r\n                showStepURLhash: false,\r\n                toolbarSettings: {toolbarPosition: 'both',\r\n                                    toolbarButtonPosition: 'end',\r\n                                }\r\n        });\r\n\r\n        \r\n    }\r\n\r\n    reset() {\r\n\r\n        this._resetRespostas();\r\n        this._jQuerySmartWizardReset();\r\n        this._resultadoQuiz.resultado = undefined;\r\n    }\r\n\r\n    _resetRespostas() {\r\n\r\n        this._inputRespostas.each(function() {\r\n\r\n            $(this).prop('checked', false);\r\n        });        \r\n    }\r\n\r\n    _jQuerySmartWizardReset() {\r\n        \r\n        $('#smartwizard').smartWizard('reset');\r\n\r\n        return true;\r\n    }\r\n\r\n    _submeterRespostas() {        \r\n        \r\n        let respostas = [];\r\n\r\n        if(!this._teste) {\r\n    \r\n            this._obterRespostas();\r\n\r\n            respostas = [\r\n                this._inputPergunta1.val(),\r\n                this._inputPergunta2.val(),\r\n                this._inputPergunta3.val(),\r\n                this._inputPergunta4.val(),\r\n                this._inputPergunta5.val(),\r\n                this._inputPergunta6.val(),\r\n                this._inputPergunta7.val(),\r\n                this._inputPergunta8.val(),\r\n                this._inputPergunta9.val(),\r\n                this._inputPergunta10.val(),\r\n            ];\r\n        }\r\n        else\r\n            respostas = [\"A\", \"B\", \"C\", \"C\", \"D\", \"A\", \"D\", \"D\", \"A\", \"A\"];    \r\n        \r\n        this._resultadoQuiz.resultado = this._quiz.calcularResultadoQuiz(respostas);        \r\n\r\n        this._quizService.gravarQuiz(respostas, this._resultadoQuiz.resultado);              \r\n    }\r\n\r\n    _validarQuiz() {\r\n\r\n        if(\r\n            !this._inputPergunta1.length ||\r\n            !this._inputPergunta2.length ||\r\n            !this._inputPergunta3.length ||\r\n            !this._inputPergunta4.length ||\r\n            !this._inputPergunta5.length ||\r\n            !this._inputPergunta6.length ||\r\n            !this._inputPergunta7.length ||\r\n            !this._inputPergunta8.length ||\r\n            !this._inputPergunta9.length ||\r\n            !this._inputPergunta10.length\r\n        )\r\n            return false;\r\n\r\n        return true;\r\n    }\r\n\r\n    _obterRespostas() {        \r\n\r\n        this._inputPergunta1 = $('input[name=\"pergunta1\"]:checked');        \r\n        this._inputPergunta2 = $('input[name=\"pergunta2\"]:checked');\r\n        this._inputPergunta3 = $('input[name=\"pergunta3\"]:checked');\r\n        this._inputPergunta4 = $('input[name=\"pergunta4\"]:checked');\r\n        this._inputPergunta5 = $('input[name=\"pergunta5\"]:checked');\r\n        this._inputPergunta6 = $('input[name=\"pergunta6\"]:checked');\r\n        this._inputPergunta7 = $('input[name=\"pergunta7\"]:checked');\r\n        this._inputPergunta8 = $('input[name=\"pergunta8\"]:checked');\r\n        this._inputPergunta9 = $('input[name=\"pergunta9\"]:checked');\r\n        this._inputPergunta10 = $('input[name=\"pergunta10\"]:checked');             \r\n    }\r\n\r\n    _validarResposta(numero) {\r\n\r\n        if(this._teste) return true;\r\n        \r\n        let inputPergunta = $('input[name=\"pergunta' + numero.toString() + '\"]:checked');\r\n\r\n        if(inputPergunta.length > 0) return true;\r\n\r\n        return false;        \r\n    }\r\n}"]}