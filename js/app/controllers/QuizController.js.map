{"version":3,"sources":["../../app-es6/controllers/QuizController.js"],"names":["QuizController","_teste","_quiz","Bind","Quiz","QuizView","$","perguntas","getPerguntas","perfis","getPerfis","_resultadoQuiz","ResultadoQuiz","ResultadoQuizView","_quizService","QuizService","on","e","anchorObject","stepNumber","stepDirection","stepPosition","numeroPergunta","_validarResposta","_submeterRespostas","bind","addClass","removeClass","smartWizard","selected","theme","transitionEffect","showStepURLhash","toolbarSettings","toolbarPosition","toolbarButtonPosition","respostas","_obterRespostas","_inputPergunta1","val","_inputPergunta2","_inputPergunta3","_inputPergunta4","_inputPergunta5","_inputPergunta6","_inputPergunta7","_inputPergunta8","_inputPergunta9","_inputPergunta10","resultado","calcularResultadoQuiz","gravarQuiz","length","numero","inputPergunta","toString"],"mappings":"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","file":"QuizController.js","sourcesContent":["class QuizController {\r\n\r\n    constructor() {\r\n\r\n        this._teste = false;\r\n                    \r\n        this._quiz = new Bind(\r\n            new Quiz(),\r\n            new QuizView($('#quizView')),\r\n            'perguntas'\r\n        );\r\n        this._quiz.perguntas = this._quiz.getPerguntas();\r\n        this._quiz.perfis = this._quiz.getPerfis();\r\n        \r\n\r\n        this._resultadoQuiz = new Bind(\r\n            new ResultadoQuiz(),\r\n            new ResultadoQuizView($('#resultadoQuizView')),\r\n            'resultado'\r\n        );        \r\n        \r\n        this._quizService = new QuizService();                                  \r\n    }\r\n\r\n    jQuerySmartWizard() {             \r\n\r\n        $('#smartwizard').on('leaveStep', function(e, anchorObject, stepNumber, stepDirection, stepPosition) {\r\n\r\n            if(stepDirection == 'forward') {\r\n\r\n                let numeroPergunta = stepNumber + 1;\r\n                if(this._validarResposta(numeroPergunta)) {\r\n                    \r\n                    if(numeroPergunta == 10)\r\n                        this._submeterRespostas();\r\n    \r\n                    return true;\r\n                }\r\n                else return false;\r\n            }\r\n            \r\n            return true;\r\n        }.bind(this));\r\n\r\n        $('#smartwizard').on('showStep', function(e, anchorObject, stepNumber, stepDirection, stepPosition) {\r\n\r\n            if(stepPosition === 'first')  \r\n                $('#prev-btn').addClass('disabled');\r\n            else \r\n                if(stepPosition === 'final')\r\n                    $(\"#next-btn\").addClass('disabled');\r\n                else {\r\n\r\n                    $('#prev-btn').removeClass('disabled');\r\n                    $('#next-btn').removeClass('disabled');\r\n                }\r\n        });\r\n\r\n        $('#smartwizard').smartWizard({\r\n                selected: 0,\r\n                theme: 'default',\r\n                transitionEffect:'fade',\r\n                showStepURLhash: false,\r\n                toolbarSettings: {toolbarPosition: 'both',\r\n                                    toolbarButtonPosition: 'end',\r\n                                }\r\n        });\r\n\r\n        \r\n    }\r\n\r\n    _submeterRespostas() {        \r\n        \r\n        let respostas = [];\r\n\r\n        if(!this._teste) {\r\n    \r\n            this._obterRespostas();\r\n\r\n            respostas = [\r\n                this._inputPergunta1.val(),\r\n                this._inputPergunta2.val(),\r\n                this._inputPergunta3.val(),\r\n                this._inputPergunta4.val(),\r\n                this._inputPergunta5.val(),\r\n                this._inputPergunta6.val(),\r\n                this._inputPergunta7.val(),\r\n                this._inputPergunta8.val(),\r\n                this._inputPergunta9.val(),\r\n                this._inputPergunta10.val(),\r\n            ];\r\n        }\r\n        else\r\n            respostas = [\"A\", \"B\", \"C\", \"C\", \"D\", \"A\", \"D\", \"D\", \"A\", \"A\"];    \r\n        \r\n        this._resultadoQuiz.resultado = this._quiz.calcularResultadoQuiz(respostas);        \r\n\r\n        this._quizService.gravarQuiz(respostas, this._resultadoQuiz.resultado);              \r\n    }\r\n\r\n    _validarQuiz() {\r\n\r\n        if(\r\n            !this._inputPergunta1.length ||\r\n            !this._inputPergunta2.length ||\r\n            !this._inputPergunta3.length ||\r\n            !this._inputPergunta4.length ||\r\n            !this._inputPergunta5.length ||\r\n            !this._inputPergunta6.length ||\r\n            !this._inputPergunta7.length ||\r\n            !this._inputPergunta8.length ||\r\n            !this._inputPergunta9.length ||\r\n            !this._inputPergunta10.length\r\n        )\r\n            return false;\r\n\r\n        return true;\r\n    }\r\n\r\n    _obterRespostas() {        \r\n\r\n        this._inputPergunta1 = $('input[name=\"pergunta1\"]:checked');        \r\n        this._inputPergunta2 = $('input[name=\"pergunta2\"]:checked');\r\n        this._inputPergunta3 = $('input[name=\"pergunta3\"]:checked');\r\n        this._inputPergunta4 = $('input[name=\"pergunta4\"]:checked');\r\n        this._inputPergunta5 = $('input[name=\"pergunta5\"]:checked');\r\n        this._inputPergunta6 = $('input[name=\"pergunta6\"]:checked');\r\n        this._inputPergunta7 = $('input[name=\"pergunta7\"]:checked');\r\n        this._inputPergunta8 = $('input[name=\"pergunta8\"]:checked');\r\n        this._inputPergunta9 = $('input[name=\"pergunta9\"]:checked');\r\n        this._inputPergunta10 = $('input[name=\"pergunta10\"]:checked');             \r\n    }\r\n\r\n    _validarResposta(numero) {\r\n\r\n        if(this._teste) return true;\r\n        \r\n        let inputPergunta = $('input[name=\"pergunta' + numero.toString() + '\"]:checked');\r\n\r\n        if(inputPergunta.length > 0) return true;\r\n\r\n        return false;        \r\n    }\r\n}"]}