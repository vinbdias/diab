{"version":3,"sources":["../../app-es6/controllers/QuizController.js"],"names":["QuizController","_teste","_quiz","Bind","Quiz","QuizView","$","_divSmartWizard","perguntas","getPerguntas","_inputRespostas","perfis","getPerfis","_resultadoQuiz","ResultadoQuiz","ResultadoQuizView","_quizService","QuizService","on","e","anchorObject","stepNumber","stepDirection","stepPosition","numeroPergunta","_validarResposta","_submeterRespostas","addClass","removeClass","smartWizard","selected","theme","transitionEffect","showStepURLhash","toolbarSettings","toolbarPosition","toolbarButtonPosition","_resetRespostas","_jQuerySmartWizardReset","resultado","undefined","each","prop","respostas","_obterRespostas","_inputPergunta1","val","_inputPergunta2","_inputPergunta3","_inputPergunta4","_inputPergunta5","_inputPergunta6","_inputPergunta7","_inputPergunta8","_inputPergunta9","_inputPergunta10","calcularResultadoQuiz","_capturarClickBotaoRefazer","gravarQuiz","reset","length","numero","inputPergunta","toString"],"mappings":"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","file":"QuizController.js","sourcesContent":["class QuizController {\r\n\r\n    constructor() {\r\n\r\n        this._teste = false;\r\n                    \r\n        this._quiz = new Bind(\r\n            new Quiz(),\r\n            new QuizView($('#quizView')),\r\n            'perguntas'\r\n        );\r\n\r\n        this._divSmartWizard = $('#smartwizard');\r\n\r\n        this._quiz.perguntas = this._quiz.getPerguntas();\r\n\r\n        this._inputRespostas = $('.inputRespostaQuiz');\r\n\r\n        this._quiz.perfis = this._quiz.getPerfis();\r\n        \r\n\r\n        this._resultadoQuiz = new Bind(\r\n            new ResultadoQuiz(),\r\n            new ResultadoQuizView($('#resultadoQuizView')),\r\n            'resultado'\r\n        );        \r\n        \r\n        this._quizService = new QuizService();                                  \r\n    }\r\n\r\n    jQuerySmartWizard() {             \r\n\r\n        this._divSmartWizard.on('leaveStep', (e, anchorObject, stepNumber, stepDirection, stepPosition) => {\r\n\r\n            if(stepDirection == 'forward') {\r\n\r\n                let numeroPergunta = stepNumber + 1;\r\n                if(this._validarResposta(numeroPergunta)) {\r\n                    \r\n                    if(numeroPergunta == 10)\r\n                        this._submeterRespostas();\r\n    \r\n                    return true;\r\n                }\r\n                else return false;\r\n            }\r\n            \r\n            return true;\r\n        });\r\n\r\n        this._divSmartWizard.on('showStep', function(e, anchorObject, stepNumber, stepDirection, stepPosition) {\r\n\r\n            if(stepPosition === 'first')  \r\n                $('#prev-btn').addClass('disabled');\r\n            else \r\n                if(stepPosition === 'final')\r\n                    $(\"#next-btn\").addClass('disabled');\r\n                else {\r\n\r\n                    $('#prev-btn').removeClass('disabled');\r\n                    $('#next-btn').removeClass('disabled');\r\n                }\r\n        });\r\n\r\n        this._divSmartWizard.smartWizard({\r\n                selected: 0,\r\n                theme: 'default',\r\n                transitionEffect:'fade',\r\n                showStepURLhash: false,\r\n                toolbarSettings: { toolbarPosition: 'both', toolbarButtonPosition: 'end'}\r\n        });\r\n\r\n        \r\n    }\r\n\r\n    reset() {\r\n\r\n        this._resetRespostas();\r\n        this._jQuerySmartWizardReset();\r\n        this._resultadoQuiz.resultado = undefined;\r\n    }\r\n\r\n    _resetRespostas() {\r\n\r\n        this._inputRespostas.each(function() {\r\n\r\n            $(this).prop('checked', false);\r\n        });        \r\n    }\r\n\r\n    _jQuerySmartWizardReset() {\r\n        \r\n        this._divSmartWizard.smartWizard('reset');\r\n\r\n        return true;\r\n    }\r\n\r\n    _submeterRespostas() {        \r\n        \r\n        let respostas = [];\r\n\r\n        if(!this._teste) {\r\n    \r\n            this._obterRespostas();\r\n\r\n            respostas = [\r\n                this._inputPergunta1.val(),\r\n                this._inputPergunta2.val(),\r\n                this._inputPergunta3.val(),\r\n                this._inputPergunta4.val(),\r\n                this._inputPergunta5.val(),\r\n                this._inputPergunta6.val(),\r\n                this._inputPergunta7.val(),\r\n                this._inputPergunta8.val(),\r\n                this._inputPergunta9.val(),\r\n                this._inputPergunta10.val(),\r\n            ];\r\n        }\r\n        else\r\n            respostas = [\"A\", \"B\", \"C\", \"C\", \"D\", \"A\", \"D\", \"D\", \"A\", \"A\"];    \r\n        \r\n        this._resultadoQuiz.resultado = this._quiz.calcularResultadoQuiz(respostas);  \r\n        \r\n        this._capturarClickBotaoRefazer();\r\n\r\n        this._quizService.gravarQuiz(respostas, this._resultadoQuiz.resultado);              \r\n    }\r\n\r\n    _capturarClickBotaoRefazer() {\r\n\r\n        $('#botaoRefazerQuiz').on('click', () => this.reset());\r\n    }\r\n\r\n    _validarQuiz() {\r\n\r\n        if(\r\n            !this._inputPergunta1.length ||\r\n            !this._inputPergunta2.length ||\r\n            !this._inputPergunta3.length ||\r\n            !this._inputPergunta4.length ||\r\n            !this._inputPergunta5.length ||\r\n            !this._inputPergunta6.length ||\r\n            !this._inputPergunta7.length ||\r\n            !this._inputPergunta8.length ||\r\n            !this._inputPergunta9.length ||\r\n            !this._inputPergunta10.length\r\n        )\r\n            return false;\r\n\r\n        return true;\r\n    }\r\n\r\n    _obterRespostas() {        \r\n\r\n        this._inputPergunta1 = $('input[name=\"pergunta1\"]:checked');        \r\n        this._inputPergunta2 = $('input[name=\"pergunta2\"]:checked');\r\n        this._inputPergunta3 = $('input[name=\"pergunta3\"]:checked');\r\n        this._inputPergunta4 = $('input[name=\"pergunta4\"]:checked');\r\n        this._inputPergunta5 = $('input[name=\"pergunta5\"]:checked');\r\n        this._inputPergunta6 = $('input[name=\"pergunta6\"]:checked');\r\n        this._inputPergunta7 = $('input[name=\"pergunta7\"]:checked');\r\n        this._inputPergunta8 = $('input[name=\"pergunta8\"]:checked');\r\n        this._inputPergunta9 = $('input[name=\"pergunta9\"]:checked');\r\n        this._inputPergunta10 = $('input[name=\"pergunta10\"]:checked');             \r\n    }\r\n\r\n    _validarResposta(numero) {\r\n\r\n        if(this._teste) return true;\r\n        \r\n        let inputPergunta = $('input[name=\"pergunta' + numero.toString() + '\"]:checked');\r\n\r\n        if(inputPergunta.length > 0) return true;\r\n\r\n        return false;        \r\n    }\r\n}"]}