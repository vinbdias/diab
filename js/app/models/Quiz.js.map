{"version":3,"sources":["../../app-es6/models/Quiz.js"],"names":["Quiz","_respostas","respostas","pontuacao","_calcularPontuacao","resultadoQuiz","perfil","_perfis","find","indice","valores","forEach","rotuloResposta","opcaoResposta","_perguntas","opcoes","opcao","rotulo","push","valor","reduce","acumulador","PerguntasDataSource","getPerguntas","PerfisDataSource","getPerfis","perguntas","perfis","concat"],"mappings":";;;;;;IAAMA,I;AAEF,oBAAc;AAAA;;AAEV,aAAKC,UAAL,GAAkB,EAAlB;AACH;;;;8CAsBqBC,S,EAAW;;AAE7B,iBAAKD,UAAL,GAAkBC,SAAlB;;AAEA,gBAAIC,YAAY,KAAKC,kBAAL,EAAhB;;AAEA,gBAAIC,gBAAgB;;AAEhBF;AAFgB,aAApB;;AAMA,gBAAGA,aAAa,EAAhB,EAAoB;;AAEhBE,8BAAcC,MAAd,GAAuB,KAAKC,OAAL,CAAaC,IAAb,CAAkB,kBAAU;;AAE/C,2BAAOF,OAAOG,MAAP,IAAiB,EAAxB;AACH,iBAHsB,CAAvB;AAIH;;AAGD,gBAAGN,aAAa,EAAb,IAAmBA,YAAY,EAAlC,EAAsC;;AAElCE,8BAAcC,MAAd,GAAuB,KAAKC,OAAL,CAAaC,IAAb,CAAkB,kBAAU;;AAE/C,2BAAOF,OAAOG,MAAP,IAAiB,EAAxB;AACH,iBAHsB,CAAvB;AAIH;;AAED,gBAAGN,YAAY,EAAf,EAAmB;;AAEfE,8BAAcC,MAAd,GAAuB,KAAKC,OAAL,CAAaC,IAAb,CAAkB,kBAAU;;AAE/C,2BAAOF,OAAOG,MAAP,IAAiB,EAAxB;AACH,iBAHsB,CAAvB;AAIH;;AAED,mBAAOJ,aAAP;AACH;;;2CAEkBH,S,EAAW;AAAA;;AAE1B,gBAAIQ,UAAU,EAAd;AACA,iBAAKT,UAAL,CAAgBU,OAAhB,CAAwB,UAACC,cAAD,EAAiBH,MAAjB,EAA4B;;AAEhD,oBAAII,gBAAgB,MAAKC,UAAL,CAAgBL,MAAhB,EAAwBM,MAAxB,CAA+BP,IAA/B,CAAoC,iBAAS;;AAE7D,2BAAOQ,MAAMC,MAAN,IAAgBL,cAAvB;AACH,iBAHmB,CAApB;;AAKAF,wBAAQQ,IAAR,CAAaL,cAAcM,KAA3B;AACH,aARD;;AAUA,mBAAOT,QAAQU,MAAR,CAAe,UAACC,UAAD,EAAaF,KAAb;AAAA,uBAAuBE,aAAaF,KAApC;AAAA,aAAf,CAAP;AACH;;;uCAEc;;AAEX,mBAAOG,oBAAoBC,YAApB,EAAP;AACH;;;oCAEW;;AAER,mBAAOC,iBAAiBC,SAAjB,EAAP;AACH;;;0BApFaC,S,EAAW;;AAErB,iBAAKZ,UAAL,GAAkBY,SAAlB;AACH,S;4BAwFe;;AAEZ,mBAAO,KAAKZ,UAAZ;AACH;;;0BApFUa,M,EAAQ;;AAEf,iBAAKpB,OAAL,GAAeoB,MAAf;AACH,S;4BAyEY;;AAET,mBAAO,KAAKpB,OAAZ;AACH;;;4BAOe;;AAEZ,mBAAO,KAAKN,UAAZ;AACH,S;0BAEaC,S,EAAW;;AAErB,iBAAKD,UAAL,GAAkB,GAAG2B,MAAH,CAAU1B,SAAV,CAAlB;AACH","file":"Quiz.js","sourcesContent":["class Quiz {\r\n\r\n    constructor() {\r\n\r\n        this._respostas = [];\r\n    }\r\n\r\n    set perguntas(perguntas) {\r\n\r\n        this._perguntas = perguntas;\r\n    }\r\n\r\n    get perguntas() {\r\n\r\n        return this._perguntas;\r\n    }\r\n\r\n    set perfis(perfis) {\r\n\r\n        this._perfis = perfis;\r\n    }\r\n\r\n    get perfis() {\r\n\r\n        return this._perfis;\r\n    }\r\n\r\n    calcularResultadoQuiz(respostas) {\r\n                    \r\n        this._respostas = respostas;\r\n\r\n        let pontuacao = this._calcularPontuacao();\r\n\r\n        let resultadoQuiz = {\r\n\r\n            pontuacao\r\n        };\r\n        \r\n\r\n        if(pontuacao >= 90) {\r\n\r\n            resultadoQuiz.perfil = this._perfis.find(perfil => {\r\n\r\n                return perfil.indice == 90;\r\n            });  \r\n        }\r\n\r\n            \r\n        if(pontuacao >= 60 && pontuacao < 90) {\r\n\r\n            resultadoQuiz.perfil = this._perfis.find(perfil => {\r\n\r\n                return perfil.indice == 60;\r\n            });        \r\n        }\r\n\r\n        if(pontuacao < 60) {\r\n\r\n            resultadoQuiz.perfil = this._perfis.find(perfil => {\r\n\r\n                return perfil.indice == 30;\r\n            }); \r\n        }\r\n\r\n        return resultadoQuiz;            \r\n    }\r\n\r\n    _calcularPontuacao(respostas) {\r\n\r\n        let valores = [];\r\n        this._respostas.forEach((rotuloResposta, indice) => {\r\n            \r\n            let opcaoResposta = this._perguntas[indice].opcoes.find(opcao => {\r\n                \r\n                return opcao.rotulo == rotuloResposta;\r\n            });\r\n\r\n            valores.push(opcaoResposta.valor);           \r\n        });\r\n\r\n        return valores.reduce((acumulador, valor) => acumulador + valor);\r\n    }\r\n\r\n    getPerguntas() {\r\n\r\n        return PerguntasDataSource.getPerguntas();\r\n    }\r\n\r\n    getPerfis() {\r\n\r\n        return PerfisDataSource.getPerfis();\r\n    }\r\n\r\n    get perfis() {\r\n\r\n        return this._perfis;\r\n    }\r\n\r\n    get perguntas() {\r\n\r\n        return this._perguntas;\r\n    }\r\n\r\n    get respostas() {\r\n\r\n        return this._respostas;\r\n    }\r\n\r\n    set respostas(respostas) {\r\n\r\n        this._respostas = [].concat(respostas);\r\n    }\r\n}"]}